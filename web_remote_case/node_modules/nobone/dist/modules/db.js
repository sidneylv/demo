// Generated by CoffeeScript 1.8.0

/**
 * See my [jdb][jdb] project.
 *
 * [Offline Documentation](?gotoDoc=jdb/readme.md)
 * [jdb]: https://github.com/ysmood/jdb
 */
var Overview, db, _;

Overview = 'db';

_ = require('../kit')._;


/**
 * Create a JDB instance.
 * @param  {Object} opts Defaults:
 * ```coffee
 * {
 * 	dbPath: './nobone.db'
 * }
 * ```
 * @return {Jdb}
 */

db = function(opts) {
  var jdb;
  if (opts == null) {
    opts = {};
  }
  _.defaults(opts, {
    dbPath: './nobone.db'
  });
  jdb = new (require('jdb'));

  /**
  	 * A promise object that help you to detect when
  	 * the db is totally loaded.
  	 * @type {Promise}
   */
  jdb.loaded = jdb.init(opts);
  return jdb;
};

module.exports = db;
