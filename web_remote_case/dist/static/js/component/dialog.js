define([],function(){function t(t){this.options={type:"success",title:"",text:"",autoOpen:!0},$.extend(this.options,t||{}),this._create()}return t.prototype={constructor:t,_create:function(){this.wrapper=$('<div class="modal fade c-modal" tabindex="-1" role="dialog"></div>'),this.content=$('<div class="modal-dialog"></div>').appendTo(this.wrapper),this.wrapper.appendTo($("body")),this._init()},_bindEvent:function(){var t=this,s=this.options;this.wrapper.on("click",".J-btn-ok",function(a){"function"==typeof s.okCallback&&s.okCallback(a),t._destroy()}),this.wrapper.on("click",".J-btn-cancel",function(a){"function"==typeof s.cancelCallback&&s.cancelCallback(a),t._destroy()}),this.wrapper.on("click",".J-btn-close",function(a){"function"==typeof s.closeCallback&&s.closeCallback(a),t._destroy()}),"success"==s.type&&setTimeout(function(){"function"==typeof s.closeCallback&&s.closeCallback(),t._destroy()},2e3)},_init:function(){var t=this.options;this._reset(),"success"==t.type?(this.wrapper.addClass("c-modal-success"),this.content.append('<div class="modal-content">										<div class="modal-header">							       			<a class="r c-icon c-icon-close J-btn-close" href="javascript:;"></a>							       			<h4 class="modal-title">'+t.title+'</h4>							      		</div>							      		<div class="modal-body">							        		<i class="c-icon alert-success"></i>							        		<p>'+(t.text?t.text:"操作成功")+"</p>							        	</div>						      		</div>")):"error"==t.type?(this.wrapper.addClass("c-modal-error"),this.content.append('<div class="modal-content">										<div class="modal-header">							       			<a class="r c-icon c-icon-close J-btn-close" href="javascript:;"></a>							       			<h4 class="modal-title">'+t.title+'</h4>							      		</div>							      		<div class="modal-body">							        		<i class="c-icon alert-warning"></i>							        		<p>'+(t.text?t.text:"操作失败")+"</p>							        	</div>						      		</div>")):"confirm"==t.type&&(this.wrapper.addClass("c-modal-confirm"),this.content.append('<div class="modal-content">										<div class="modal-header">							       			<a class="r c-icon c-icon-close J-btn-close" href="javascript:;"></a>							       			<h4 class="modal-title">'+(t.title?t.title:"提示")+'</h4>							      		</div>							      		<div class="modal-body">							        		<i class="c-icon alert-warning"></i>							        		<p>'+(t.text?t.text:"确定删除吗？")+'</p>							      		</div>							      		<div class="modal-footer">							      			<div class="c-btn-group">								        		<a class="c-btn c-btn--small c-btn--blue J-btn-ok">确定</a>								        		<a class="ml10 c-btn c-btn--small J-btn-cancel">取消</a>							      			</div>							      		</div>						      		</div>')),t.autoOpen&&this._show(),this._bindEvent()},_reset:function(){this.wrapper.off("click"),this.wrapper.attr("class","modal fade c-modal"),this.content.empty()},_show:function(){var t,s,a=this;t={show:!0},s=a._isExist(),s&&s.modal("hide"),this.wrapper.modal(t)},_isExist:function(){var t=$(".c-modal-success"),s=$(".c-modal-error");return t.length?t:s.length?s:!1},_hide:function(){this.wrapper.modal("hide"),this._reset()},_destroy:function(){var t=this;this.wrapper.modal("hide"),this.wrapper.on("hidden.bs.modal",function(){t._reset(),t.wrapper.remove()})}},t});